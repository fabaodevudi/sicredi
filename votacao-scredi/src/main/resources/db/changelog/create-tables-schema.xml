<?xml version="1.0" encoding="UTF-8"?>

<databaseChangeLog
	xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog
         http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.1.xsd">

	 <changeSet author="Fabao" id="1_createTablePauta" failOnError="true">
		
        <comment>Criação da tabela PAUTA</comment>
        <sql>
			create table PAUTA (
				ID_PAUTA NUMBER(20) PRIMARY KEY auto_increment,
				TITULO VARCHAR(100),
				DESCRICAO VARCHAR(100) 
			)
		</sql>
    </changeSet>
    
    <changeSet author="Fabao" id="2_createTableAssociado" failOnError="true">
		
        <comment>Criação da tabela ASSOCIADO</comment>
        <sql>
			create table ASSOCIADO (
				ID_ASSOCIADO NUMBER(20) PRIMARY KEY auto_increment,
				NOME VARCHAR(100),
				CPF VARCHAR(11)
			)
		</sql>
    </changeSet>
    <changeSet author="Fabao" id="3_createTableSessao" failOnError="true">
		
        <comment>Criação da tabela SESSAO</comment>
        <sql>
			create table SESSAO (
				ID_SESSAO NUMBER(20) PRIMARY KEY auto_increment,
				INICIO_SESSAO DATE,
				FIM_SESSAO DATE,
				ID_PAUTA NUMBER(20),			
				FOREIGN KEY (ID_PAUTA) REFERENCES PAUTA(ID_PAUTA)
			)
		</sql>
    </changeSet>
    <changeSet author="Fabao" id="3_createTableVoto" failOnError="true">
		
        <comment>Criação da tabela VOTO</comment>
        <sql>
			create table VOTO (
				ID_VOTO NUMBER(20) PRIMARY KEY auto_increment,				
				VOTO VARCHAR(1),
				ID_SESSAO NUMBER(20),
				ID_ASSOCIADO NUMBER(20),				
				FOREIGN KEY (ID_SESSAO) REFERENCES SESSAO(ID_SESSAO),
				FOREIGN KEY (ID_ASSOCIADO) REFERENCES ASSOCIADO(ID_ASSOCIADO)				
			)
		</sql>
    </changeSet>
</databaseChangeLog>